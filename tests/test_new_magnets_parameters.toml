VacuumType = true # true or false (true = Cryo; false = Turbo)
ThermalPower = 1000 # Default value 1 GW
# ========================== HCD SYSTEM ================================ #
[hcdsystem]
HeatToAir = 0.20 # fraction of HCD power loss that ends up in the waste heat system

[hcdsystem.negativeIonNeutralInjector]
beamEnergy = 1
efficiencyNeutralization = 0.58
NBIThermalPowerMaxMW = 109

# ======================= CRYOGENIC POWER ============================== #
[cryogenicpower]
HeatToAir = 0.20 # fraction of HCD power loss that ends up in the waste heat system
cryoFlow_HydrogenFreezing = 3.5 # cryogenic mass flow rate for freezing hydrogen for fuel matter injection (g/s)
cryoTemp_TF = 20 # temperature of the TF coolant (K)
cryoTemp_PF = 4 # temperature of the PF coolant (K) (might have to be split)
PFcrMW = 0.00071 # PF conduction and radiation losses (MW)

#Cryodistillation (CD) Model
[cryogenicpower.CD]
FBCol_2 = 0.0003902222222222223 # Flowrate of column 1 bottoms to column 2 top (kg/s)
FBCol_3 = 0.0001944444444444444 # Flowrate of column 1 sidedraw to column 3 feed (kg/s)
InputFlowRateCol_1 = 0.0002737777777777778 # Inlet flowrate to column 1 (kg/s)
InputFlowRateCol_2 = 0.0002755555555555556 # Inlet flowrate to column 2 (kg/s)
OutputStreamRateCol_1 = 8.638888888888889e-05 # Outlet flowrate from column 1 (kg/s)
OutputStreamRateCol_2 = 0.0001803333333333333 # Outlet flowrate from column 2 (kg/s)
OutputStreamRateCol_3 = 5.555555555555556e-05 # Outlet flowrate from column 3 (kg/s)
OutputStreamRateCol_4 = 0.0001411944444444444 # Outlet flowrate from column 4 (kg/s)

# ====================== WASTE HEAT POWER ============================== #
[wasteheatpower.wasteHeatCryo]
# dimensions of the cryogenic plant room, metres
Height = 3.0
Length = 120.0
SystemEfficiency = 0.8
Width = 45.0

[wasteheatpower.wasteHeatHCD]
# dimensions of the HCD plant room, metres
Height = 70.0
Length = 120.0
SystemEfficiency = 0.8
Width = 100.0

[wasteheatpower.WasteHeatMagnets]
# dimensions of the magnet power converters room, metres
Height = 3.0
Length = 150.0
SystemEfficiency = 0.8
Width = 30.0

# ========================== MAGNET POWER ============================== #

# numCoils - the number of coils of this particular configuration
# Vdrop - voltage drop across the power converter that drives the I*V power loss, assumed constant (V)
# Rfeeder - resistance of the feeders for the particular magnet (Ohm)
# nTurn - number of current turns
# maxCurrent - maximum expected current in the coil (will need to extract this automatically if possible) (A)
# coilLength - the circumference of the coil (one turn only) (m)
# Feeder_Qk - heat conduction loss through feeder divided by the maximum current through coil (W/kA/lead)
# Feeder_m - coolant mass flow rate in feeders' heat exchanger divided by the maximum current through coil (g/s/kA/lead)
# L - coil inductance (H)

[magnetpower.magnetPF1]
numCoils = 1
Vdrop = 1.45
Rfeeder = 3.7e-9
nTurn = 200.0
maxCurrent = 50e3
coilLength = 40
Feeder_Qk = 0.198
Feeder_m = 0.069
L = 0.02
neutronicsPower = 3000
PFcurrentMA = 8.0
r = 8.0

[magnetpower.magnetPF2]
numCoils = 1
Vdrop = 1.45
Rfeeder = 3.7e-9
nTurn = 200.0
maxCurrent = 50e3
coilLength = 40
Feeder_Qk = 0.198
Feeder_m = 0.069
L = 0.02
neutronicsPower = 3000
PFcurrentMA = 8.0
r = 8.0

[magnetpower.magnetPF3]
numCoils = 1
Vdrop = 1.45
Rfeeder = 3.7e-9
nTurn = 200.0
maxCurrent = 50e3
coilLength = 40
Feeder_Qk = 0.198
Feeder_m = 0.069
L = 0.02
neutronicsPower = 3000
PFcurrentMA = 8.0
r = 8.0

[magnetpower.magnetPF4]
numCoils = 1
Vdrop = 1.45
Rfeeder = 3.7e-9
nTurn = 200.0
maxCurrent = 50e3
coilLength = 40
Feeder_Qk = 0.198
Feeder_m = 0.069
L = 0.02
neutronicsPower = 3000
PFcurrentMA = 8.0
r = 8.0

[magnetpower.magnetPF5]
numCoils = 1
Vdrop = 1.45
Rfeeder = 3.7e-9
nTurn = 200.0
maxCurrent = 50e3
coilLength = 40
Feeder_Qk = 0.198
Feeder_m = 0.069
L = 0.02
neutronicsPower = 3000
PFcurrentMA = 8.0
r = 8.0

[magnetpower.magnetPF6]
numCoils = 1
Vdrop = 1.45
Rfeeder = 3.7e-9
nTurn = 200.0
maxCurrent = 50e3
coilLength = 40
Feeder_Qk = 0.198
Feeder_m = 0.069
L = 0.02
neutronicsPower = 3000
PFcurrentMA = 8.0
r = 8.0

[magnetpower.magnetPF7]
numCoils = 1
Vdrop = 1.45
Rfeeder = 3.7e-9
nTurn = 200.0
maxCurrent = 50e3
coilLength = 40
Feeder_Qk = 0.198
Feeder_m = 0.069
L = 0.02
neutronicsPower = 3000
PFcurrentMA = 8.0
r = 8.0
combiTimeTable = 2

[magnetpower.magnetTF]
numCoils = 12
Vdrop = 1.45
Rfeeder = 1.9e-7
nTurn = 5.0
maxCurrent = 60e3
coilLength = 40
Feeder_Qk = 0.198
Feeder_m = 0.069
neutronicsPower = 200e3
magEnergy = 2.139e9 # magnetic energy stored in the coils, comes from PROCESS
Rtot = 4.253e-7 # total TF resistance, comes from PROCESS
Roleg = 1.948e-8 # resistance of the outer legs, comes from PROCESS
